<!DOCTYPE html>
<html>
  <head>
    <meta charset="us-ascii" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/@mdi/font@6/css/materialdesignicons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/vuetify/2.6.15/vuetify.min.css"
      rel="stylesheet"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <title>Coaching Client Cost Calculator</title>

  <body>
    <div id="app">
      <v-app>
        <v-main>
          <v-container>
            <v-row>
              <v-col cols="6">
                <v-btn
                  color="primary"
                  :disabled="currentStep == 1"
                  @click="currentStep -=1"
                  >Back</v-btn
                >
              </v-col>
              <v-col cols="6">
                <v-btn
                  class="float-right"
                  color="primary"
                  :disabled="currentStep == 3"
                  @click="currentStep += 1"
                  >Next</v-btn
                >
              </v-col>
            </v-row>
            <v-row>
              <v-col cols="12">
                <v-stepper v-model="currentStep">
                  <v-stepper-header>
                    <v-stepper-step :complete="currentStep > 1" step="1"
                      >Costs</v-stepper-step
                    >
                    <v-divider></v-divider>
                    <v-stepper-step :complete="currentStep > 2" step="2"
                      >Rates</v-stepper-step
                    >
                    <v-divider></v-divider>
                    <v-stepper-step step="3">Results</v-stepper-step>
                  </v-stepper-header>
                  <v-stepper-items>
                    <v-stepper-content step="1">
                      <v-row>
                        <v-col cols="12" sm="4">
                          Product Price: ${{ productPrice.toFixed(2) }}
                        </v-col>
                        <v-col cols="12" sm="8">
                          <v-slider
                            class="flex-item"
                            v-model="productPrice"
                            min="0"
                            max="10000"
                            step="50"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ '$' + props.value.toFixed(2) }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                      <v-row>
                        <v-col cols="12" sm="4">
                          Ad Spend: ${{ adSpend.toFixed(2) }}
                        </v-col>
                        <v-col cols="12" sm="8">
                          <v-slider
                            class="flex-item"
                            v-model="adSpend"
                            min="0"
                            max="10000"
                            step="50"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ '$' + props.value.toFixed(2) }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                      <v-row>
                        <v-col cols="12" sm="4">
                          Cost per Lead: ${{ costPerLead.toFixed(2) }}
                        </v-col>
                        <v-col cols="12" sm="8">
                          <v-slider
                            class="flex-item"
                            v-model="costPerLead"
                            min="0.5"
                            max="100"
                            step="0.5"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ '$' + props.value.toFixed(2) }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                    </v-stepper-content>
                    <v-stepper-content step="2">
                      <v-row>
                        <v-col cols="12" sm="4">
                          Discovery Conversion Rate: {{ (discoveryConversion *
                          100).toFixed(0) }}%
                        </v-col>
                        <v-col cols="12" sm="8">
                          <v-slider
                            class="flex-item"
                            v-model="discoveryConversion"
                            min="0"
                            max="1"
                            step="0.05"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ (props.value * 100).toFixed(0) + '%'
                              }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                      <v-row>
                        <v-col cols="12" sm="4">
                          Show Up Rate: {{ (showUpRate * 100).toFixed(0) }}%
                        </v-col>
                        <v-col cols="12" sm="8"
                          ><v-slider
                            class="flex-item"
                            v-model="showUpRate"
                            min="0"
                            max="1"
                            step="0.05"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ (props.value * 100).toFixed(0) + '%'
                              }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                      <v-row>
                        <v-col cols="12" sm="4">
                          Enrollment Rate: {{ (enrollmentRate * 100).toFixed(0)
                          }}%
                        </v-col>
                        <v-col cols="12" sm="8">
                          <v-slider
                            class="flex-item"
                            v-model="enrollmentRate"
                            min="0"
                            max="1"
                            step="0.05"
                          >
                            <template v-slot:thumb-label="props"
                              >{{ (props.value * 100).toFixed(0) + '%'
                              }}</template
                            >
                          </v-slider>
                        </v-col>
                      </v-row>
                    </v-stepper-content>
                    <v-stepper-content step="3">
                      <v-row v-for="item in results" :key="item.label">
                        <v-col cols="8" sm="10">
                          <v-icon left>{{ item.icon }}</v-icon>
                          {{ item.label }}
                        </v-col>
                        <v-col cols="4" sm="2" class="float-right">
                          {{ item.value }}
                        </v-col>
                      </v-row>
                    </v-stepper-content>
                  </v-stepper-items>
                </v-stepper>
              </v-col>
            </v-row>
          </v-container>
        </v-main>
      </v-app>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vuetify/2.6.15/vuetify.min.js"></script>

    <script>
      new Vue({
        el: "#app",
        vuetify: new Vuetify(),
        data() {
          return {
            productPrice: 3000,
            adSpend: 1000,
            costPerLead: 5,
            discoveryConversion: 0.05,
            showUpRate: 0.7,
            enrollmentRate: 0.2,
            currentStep: 1,
          };
        },
        computed: {
          results() {
            return [
              {
                label: "Total Leads",
                value: this.totalLeads.toFixed(0),
                icon: "mdi-account-multiple",
              },
              {
                label: "Discovery Calls Booked",
                value: this.totalDiscoveryCalls.toFixed(0),
                icon: "mdi-phone",
              },
              {
                label: "Discovery Calls Showed Up",
                value: this.totalShowedUp.toFixed(0),
                icon: "mdi-account-check",
              },
              {
                label: "Total Enrolled",
                value: this.totalEnrolled.toFixed(0),
                icon: "mdi-account-arrow-right",
              },
              {
                label: "Total Revenue",
                value: `$${this.totalRevenue.toFixed(2)}`,
                icon: "mdi-cash-multiple",
              },
              {
                label: "ROAS",
                value: this.ROAS.toFixed(2),
                icon: "mdi-chart-line",
              },
              {
                label: "Overall Conversion Rate",
                value: `${this.overallConversionRate.toFixed(2)}%`,
                icon: "mdi-chart-pie",
              },
              {
                label: "Ad Cost per Discovery",
                value: `$${this.adCostPerDiscovery.toFixed(2)}`,
                icon: "mdi-cash",
              },
              {
                label: "Ad Cost per Enrollment",
                value: `$${this.adCostPerEnrollment.toFixed(2)}`,
                icon: "mdi-cash-minus",
              },
              {
                label: "Gross Profit",
                value: `$${this.grossProfit.toFixed(2)}`,
                icon: "mdi-cash-plus",
              },
              {
                label: "Gross Margin",
                value: `${this.grossMargin.toFixed(2)}%`,
                icon: "mdi-chart-bar",
              },
            ];
          },
          totalLeads() {
            return Math.floor(this.adSpend / this.costPerLead);
          },
          totalDiscoveryCalls() {
            return Math.floor(this.totalLeads * this.discoveryConversion);
          },
          totalShowedUp() {
            return Math.floor(this.totalDiscoveryCalls * this.showUpRate);
          },
          totalEnrolled() {
            return Math.floor(this.totalShowedUp * this.enrollmentRate);
          },
          totalRevenue() {
            return this.totalEnrolled * this.productPrice;
          },
          ROAS() {
            return this.totalRevenue / this.adSpend;
          },
          overallConversionRate() {
            return (this.totalEnrolled / this.totalLeads) * 100;
          },
          adCostPerDiscovery() {
            return this.adSpend / this.totalDiscoveryCalls;
          },
          adCostPerEnrollment() {
            return this.adSpend / this.totalEnrolled;
          },
          grossProfit() {
            return this.totalRevenue - this.adSpend;
          },
          grossMargin() {
            return (this.grossProfit / this.totalRevenue) * 100;
          },
        },
      });
    </script>
  </body>
</html>
